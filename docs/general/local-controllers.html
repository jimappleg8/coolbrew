<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>

<title>CoolBrew User Guide</title>

<style type='text/css' media='all'>@import url('../userguide.css');</style>
<link rel='stylesheet' type='text/css' media='all' href='../userguide.css' />

<style type='text/css' media='all'>@import url('../userguide.css');</style>
<link rel='stylesheet' type='text/css' media='all' href='../userguide.css' />

<script type="text/javascript" src="../nav/nav.js"></script>
<script type="text/javascript" src="../nav/prototype.lite.js"></script>
<script type="text/javascript" src="../nav/moo.fx.js"></script>
<script type="text/javascript">
window.onload = function() {
	myHeight = new fx.Height('nav', {duration: 400});
	myHeight.hide();
}
</script>

<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta http-equiv='expires' content='-1' />
<meta http-equiv= 'pragma' content='no-cache' />
<meta name='robots' content='all' />
<meta name='author' content='Jim Applegate' />
<meta name='description' content='CoolBrew User Guide' />

</head>
<body>

<!-- START NAVIGATION -->
<div id="nav"><div id="nav_inner"><script type="text/javascript">create_menu('../');</script></div></div>
<div id="nav2"><a name="top"></a><a href="javascript:void(0);" onclick="myHeight.toggle();"><img src="../images/nav_toggle.jpg" width="153" height="44" border="0" title="Toggle Table of Contents" alt="Toggle Table of Contents" /></a></div>
<div id="masthead">
<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td><h1>CoolBrew User Guide Version 1.3
<br /><span class="subtitle">Based on CodeIgniter Version 1.5.4</span></h1></td>
<td id="breadcrumb_right"><a href="../toc.html">Full Table of Contents</a></td>
</tr>
</table>
</div>
<!-- END NAVIGATION -->


<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
<tr>
<td id="breadcrumb">
<a href="/coolbrew/index.html">CoolBrew Home</a> &nbsp;&#8250;&nbsp; <a href="../index.html">User Guide Home</a> &nbsp;&#8250;&nbsp; Local Controllers
</td>
<td id="searchbox"><form method="get" action="http://www.google.com/search"><input type="hidden" name="as_sitesearch" id="as_sitesearch" value="github.com/jimappleg8/coolbrew/tree/main/docs" />Search User Guide&nbsp; <input type="text" class="input" style="width:200px;" name="q" id="q" size="31" maxlength="255" value="" />&nbsp;<input type="submit" class="submit" name="sa" value="Go" /></form></td>
</tr>
</table>



<br clear="all" />


<!-- START CONTENT -->
<div id="content">

<h1>Local Modules & Controllers</h1>

<p>As nice as it is to have a centralized collection of scripts that can be run on multiple websites, there are times when you need to create code that is website specific and not worthy of being made available system-wide. Local modules and controllers are for those times.</p>

<h2>Local Modules</h2>

<p>A <dfn>local module</dfn> is a special module that that contains no controllers. Instead, CoolBrew assumes that you are providing a controller in your website document file. There is no limit to the number of local controllers you can have within a site or across sites; they can all be run through the same local module. The default local module is called (surprise!) "local".</p>

<p>A local module has a folder in <dfn>system/modules/</dfn> just like any other module, so you can customize it by adding libraries, plugins, hooks, or any other component normal modules can have. Any customized items that you add to the local module's folder will be in effect for all your local controllers across all your websites. If you need to have multiple local controllers with different configuations, you can define any module to be a local module by adding it to the <var>$local_modules</var> array in the <dfn>system/coolbrew.inc.php</dfn> file:</p>

<code>
$local_modules = array('local', 'local2');
</code>

<p class="important"><strong>Note:</strong> If you define a module as local, any controllers in the <dfn>system/modules/MODULE_NAME/controllers/</dfn> folder will be ignored except to verify that they exist. You may need to create a dummy controller file in this folder so that when the router looks to make sure the class exists, it sees a file.</p>


<h2>Local Controllers</h2>

<p>A <dfn>local controller</dfn> is a controller you write in one of your website document files and then call with a tag that references your local module and the function you want to load.</p>

<p>Let's look at an example:</p>

<textarea class="textarea" style="width:100%" cols="50" rows="17">
<?php

require_once 'coolbrew.inc.php';

class Local extends Controller {

   function test()
   {
      echo "<p>Hello World!</p>";
   }

}

get("local.test");

?>
</textarea>

<p>Notice a few things about this controller:</p>

<ol>
<li>The class name is "Local". This name is not arbitrary; it needs to match the name of your local module. The name is capitalized, like in all controllers.</li>
<li>We access the controller using the <dfn>get()</dfn> function, just like any module. You might be tempted to instantiate the class directly, but that won't work.</li>
<li>You can have as many functions within your controller as you need.</p>
</ol>

<p>For more information about controllers and how they work, see the <a href="../general/controllers.html">Controllers</a> section in this guide as well as the <a href="http://www.codeigniter.com/user_guide/general/controllers.html">Controllers</a> section of the <i>CodeIgniter User Guide</i>.




</div>
<!-- END CONTENT -->


<div id="footer">
<p><a href="#top">Top of Page</a>&nbsp;&nbsp;&nbsp;&middot;&nbsp;&nbsp;
<a href="index.html">User Guide Home</a><p>

<p><a href="https://github.com/jimappleg8/coolbrew">CoolBrew</a> &nbsp;&middot;&nbsp; Copyright &#169; 2006 &nbsp;&middot;&nbsp; Jim Applegate</p>
</div>


</body>
</html>